import{j as e,a as w}from"./query-CSQiZfg4.js";import{c as d,X as C,f as k,u as q,S as _,A as g}from"./index-C7VIVNlQ.js";import{a as p,R as y,U as h,B as v,G as j,V as u,T as n}from"./video-BrZv4o6o.js";import{H as f}from"./house-BO8Y9xil.js";import{C as m}from"./circle-check-big-BMld88Gt.js";import{I as S}from"./info-DX9BMIKW.js";import"./vendor-7Rr5RJ8N.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N=d("circle-play",M);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],x=d("circle-x",R);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],b=d("swords",A),Q={tv:n,video:u,"gamepad-2":j,briefcase:v,upload:h,radio:y,home:f,"play-circle":N,users:p,swords:b};function z({result:s,onClick:l}){const t=Q[s.icon]||n,r=s.passed?m:x,a=s.passed?"var(--g-green)":"var(--g-red)";return e.jsxs("div",{className:"glass-card p-4 cursor-pointer transition-all hover:scale-[1.02]",onClick:l,style:{borderColor:s.passed?"var(--g-green-muted)":"var(--g-red-muted)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:s.passed?"var(--g-green-muted)":"var(--g-red-muted)"},children:e.jsx(t,{className:"w-5 h-5",style:{color:a}})}),e.jsx("span",{title:s.passed?"All requirements met for this application":"Some requirements not met - click for details",children:e.jsx(r,{className:"w-5 h-5",style:{color:a}})})]}),e.jsx("h3",{className:"font-semibold text-sm mb-1",style:{color:"var(--g-text)"},children:s.profile_name}),e.jsx("div",{className:"flex items-center gap-1 text-xs cursor-help",style:{color:"var(--g-text-secondary)"},title:"Number of quality requirements met (download, upload, ping, jitter, packet loss)",children:e.jsxs("span",{children:[s.passed_count,"/",s.total_checks," checks passed"]})}),!s.passed&&s.recommendation&&e.jsx("p",{className:"text-xs mt-2 line-clamp-2",style:{color:"var(--g-red)"},children:s.recommendation})]})}const B={tv:n,video:u,"gamepad-2":j,briefcase:v,upload:h,radio:y,home:f,"play-circle":N,users:p,swords:b};function I({check:s}){var c,i;const l=s.passed,t=l?"var(--g-green)":"var(--g-red)",r=l?"var(--g-green-muted)":"var(--g-red-muted)";let a=100;return s.required&&s.actual!==null&&(s.threshold_type==="min"?a=Math.min(100,s.actual/s.required*100):a=Math.min(100,s.required/s.actual*100)),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{style:{color:"var(--g-text)"},children:s.label}),e.jsxs("span",{style:{color:t},children:[(c=s.actual)==null?void 0:c.toFixed(1)," / ",(i=s.required)==null?void 0:i.toFixed(1)," ",s.unit]})]}),e.jsx("div",{className:"h-2 rounded-full",style:{backgroundColor:r},children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${a}%`,backgroundColor:t}})}),e.jsxs("div",{className:"flex justify-between text-[10px] mt-0.5",style:{color:"var(--g-text-secondary)"},children:[e.jsx("span",{children:s.threshold_type==="min"?"Min required":"Max allowed"}),e.jsxs("span",{className:"flex items-center gap-1",children:[l?e.jsx(m,{className:"w-3 h-3"}):e.jsx(x,{className:"w-3 h-3"}),l?"Pass":"Fail"]})]})]})}function P({result:s,onClose:l}){const t=B[s.icon]||n,r=s.passed?"var(--g-green)":"var(--g-red)";return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.6)"},onClick:l,children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:s.passed?"var(--g-green-muted)":"var(--g-red-muted)"},children:e.jsx(t,{className:"w-6 h-6",style:{color:r}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",style:{color:"var(--g-text)"},children:s.profile_name}),e.jsx("p",{className:"text-sm",style:{color:r},children:s.passed?"All requirements met":"Requirements not met"})]})]}),e.jsx("button",{onClick:l,className:"p-1 rounded hover:bg-white/10",children:e.jsx(C,{className:"w-5 h-5",style:{color:"var(--g-text-secondary)"}})})]}),e.jsx("div",{className:"space-y-1",children:s.checks.map((a,c)=>e.jsx(I,{check:a},c))}),!s.passed&&s.recommendation&&e.jsx("div",{className:"mt-4 p-3 rounded-lg text-sm",style:{backgroundColor:"var(--g-red-muted)",color:"var(--g-red)"},children:s.recommendation}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(k,{size:"sm",onClick:l,children:"Close"})})]})})}function H(){const{data:s,isLoading:l}=q(),[t,r]=w.useState(null);if(l)return e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(_,{size:32})});if(!s)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 g-animate-in",children:[e.jsx(g,{className:"w-5 h-5",style:{color:"var(--g-accent)"}}),e.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--g-text)"},children:"QoS Tests"})]}),e.jsxs("div",{className:"glass-card p-8 text-center g-animate-in g-stagger-1",children:[e.jsx(S,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--g-text-secondary)"}}),e.jsx("p",{style:{color:"var(--g-text-secondary)"},children:"No measurement data available yet. Run a speed test to see QoS analysis."})]})]});const a=s.passed_profiles,c=s.total_profiles,i=Math.round(a/c*100);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between g-animate-in",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5",style:{color:"var(--g-accent)"}}),e.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--g-text)"},children:"QoS Tests"})]}),e.jsx("p",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:"Based on latest measurement"})]}),e.jsxs("div",{className:"glass-card p-6 g-animate-in g-stagger-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"var(--g-text)"},children:"Application Compatibility"}),e.jsx("p",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:s.summary})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"w-5 h-5",style:{color:"var(--g-green)"}}),e.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--g-green)"},children:a})]}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"Optimal"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"w-5 h-5",style:{color:"var(--g-red)"}}),e.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--g-red)"},children:c-a})]}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"Limited"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",style:{color:"var(--g-text-secondary)"},children:[e.jsx("span",{children:"Compatibility Score"}),e.jsxs("span",{children:[i,"%"]})]}),e.jsx("div",{className:"h-2 rounded-full",style:{backgroundColor:"var(--g-surface)"},children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${i}%`,backgroundColor:i>=80?"var(--g-green)":i>=50?"var(--g-amber)":"var(--g-red)"}})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 g-animate-in g-stagger-2",children:s.results.map(o=>e.jsx(z,{result:o,onClick:()=>r(o)},o.profile_id))}),e.jsxs("div",{className:"flex items-center gap-6 text-sm g-animate-in g-stagger-3",style:{color:"var(--g-text-secondary)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--g-green)"}}),e.jsx("span",{children:"All requirements met"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--g-red)"}}),e.jsx("span",{children:"Some requirements not met"})]})]}),t&&e.jsx(P,{result:t,onClose:()=>r(null)})]})}export{H as QosPage};
