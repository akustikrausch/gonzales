import{j as a}from"./query-CSQiZfg4.js";import{u as y,X as d}from"./index-Cc5-1RId.js";import{C as x}from"./calendar-BlkOUKUw.js";function c(t){const r=t.getTimezoneOffset();return new Date(t.getTime()-r*60*1e3).toISOString().slice(0,16)}function m(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function h(t){const r=new Date(t),s=r.getDay(),l=r.getDate()-s+(s===0?-6:1);return new Date(r.setDate(l))}function f(t){return new Date(t.getFullYear(),t.getMonth(),1)}function v(t){return new Date(t.getFullYear(),0,1)}function D({startDate:t,endDate:r,onStartDateChange:s,onEndDateChange:l}){const{t:o}=y(),i=t||r,g=[{label:o("history.today"),getStart:()=>m(new Date)},{label:o("history.thisWeek"),getStart:()=>h(new Date)},{label:o("history.thisMonth"),getStart:()=>f(new Date)},{label:o("history.thisYear"),getStart:()=>v(new Date)}],u=e=>{s(c(e())),l(c(new Date))};return a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("div",{className:"flex items-center gap-1",children:g.map(e=>a.jsx("button",{onClick:()=>u(e.getStart),className:"px-2 py-1 text-xs rounded-md transition-colors",style:{background:"var(--g-glass)",color:"var(--g-text-secondary)",border:"1px solid var(--g-border)"},onMouseEnter:n=>{n.currentTarget.style.background="var(--g-accent)",n.currentTarget.style.color="white"},onMouseLeave:n=>{n.currentTarget.style.background="var(--g-glass)",n.currentTarget.style.color="var(--g-text-secondary)"},children:e.label},e.label))}),a.jsx("div",{className:"h-4 w-px",style:{background:"var(--g-border)"}}),a.jsx(x,{className:"w-4 h-4",style:{color:"var(--g-text-secondary)"}}),a.jsx("label",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:o("history.startDate")}),a.jsx("input",{type:"datetime-local",value:t,onChange:e=>s(e.target.value),className:"glass-input",style:{width:"auto"}}),a.jsx("label",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:o("history.endDate")}),a.jsx("input",{type:"datetime-local",value:r,onChange:e=>l(e.target.value),className:"glass-input",style:{width:"auto"}}),i&&a.jsx("button",{onClick:()=>{s(""),l("")},className:"transition-colors",style:{color:"var(--g-text-secondary)"},title:o("history.clearFilter"),onMouseEnter:e=>e.currentTarget.style.color="var(--g-red)",onMouseLeave:e=>e.currentTarget.style.color="var(--g-text-secondary)",children:a.jsx(d,{className:"w-4 h-4"})})]})}export{D};
