import{j as e,a as g}from"./query-CSQiZfg4.js";import{c as N,u,O as h,X as E,k as A,a as D,S as I,A as f,I as B}from"./index-C_tx9rzG.js";import{a as b,R as q,U as w,B as C,G as k,V as R,T as p}from"./video-B7vUAwBB.js";import{H as M}from"./house-DKZVsXpI.js";import{C as v}from"./circle-check-big-DUTTrNwD.js";import"./vendor-7Rr5RJ8N.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_=N("circle-play",P);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],S=N("swords",z),L={tv:p,video:R,"gamepad-2":k,briefcase:C,upload:w,radio:q,home:M,"play-circle":_,users:b,swords:S};function Q({result:s,onClick:a}){const{t}=u(),o=L[s.icon]||p,n=s.passed?v:h,l=s.passed?"var(--g-green)":"var(--g-red)";return e.jsxs("div",{className:"glass-card p-4 cursor-pointer transition-all hover:scale-[1.02]",onClick:a,style:{borderColor:s.passed?"var(--g-green-muted)":"var(--g-red-muted)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:s.passed?"var(--g-green-muted)":"var(--g-red-muted)"},children:e.jsx(o,{className:"w-5 h-5",style:{color:l}})}),e.jsx("span",{title:s.passed?t("qos.allRequirementsMetForApp"):t("qos.someRequirementsNotMetDetails"),children:e.jsx(n,{className:"w-5 h-5",style:{color:l}})})]}),e.jsx("h3",{className:"font-semibold text-sm mb-1",style:{color:"var(--g-text)"},children:s.profile_name}),e.jsx("div",{className:"flex items-center gap-1 text-xs cursor-help",style:{color:"var(--g-text-secondary)"},title:"Number of quality requirements met (download, upload, ping, jitter, packet loss)",children:e.jsx("span",{children:t("qos.checksPassed",{passed:s.passed_count,total:s.total_checks})})}),!s.passed&&s.recommendation&&e.jsx("p",{className:"text-xs mt-2 line-clamp-2",style:{color:"var(--g-red)"},children:s.recommendation})]})}const T={tv:p,video:R,"gamepad-2":k,briefcase:C,upload:w,radio:q,home:M,"play-circle":_,users:b,swords:S};function $({check:s}){var d,r;const{t:a}=u(),t=s.passed,o=t?"var(--g-green)":"var(--g-red)",n=t?"var(--g-green-muted)":"var(--g-red-muted)";let l=100;return s.required&&s.actual!==null&&(s.threshold_type==="min"?l=Math.min(100,s.actual/s.required*100):l=Math.min(100,s.required/s.actual*100)),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{style:{color:"var(--g-text)"},children:s.label}),e.jsxs("span",{style:{color:o},children:[(d=s.actual)==null?void 0:d.toFixed(1)," / ",(r=s.required)==null?void 0:r.toFixed(1)," ",s.unit]})]}),e.jsx("div",{className:"h-2 rounded-full",style:{backgroundColor:n},children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${l}%`,backgroundColor:o}})}),e.jsxs("div",{className:"flex justify-between text-[10px] mt-0.5",style:{color:"var(--g-text-secondary)"},children:[e.jsx("span",{children:s.threshold_type==="min"?a("qos.minRequired"):a("qos.maxAllowed")}),e.jsxs("span",{className:"flex items-center gap-1",children:[t?e.jsx(v,{className:"w-3 h-3"}):e.jsx(h,{className:"w-3 h-3"}),a(t?"qos.pass":"qos.fail")]})]})]})}function G({result:s,onClose:a}){const{t}=u(),o=T[s.icon]||p,n=s.passed?"var(--g-green)":"var(--g-red)",l=g.useRef(null),d=g.useRef(null);return g.useEffect(()=>{var j;d.current=document.activeElement;const r=i=>{if(i.key==="Escape"){a();return}if(i.key==="Tab"&&l.current){const y=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),m=y[0],x=y[y.length-1];i.shiftKey&&document.activeElement===m?(i.preventDefault(),x==null||x.focus()):!i.shiftKey&&document.activeElement===x&&(i.preventDefault(),m==null||m.focus())}};document.addEventListener("keydown",r);const c=(j=l.current)==null?void 0:j.querySelector("button");return c==null||c.focus(),()=>{var i;document.removeEventListener("keydown",r),(i=d.current)==null||i.focus()}},[a]),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.6)"},onClick:a,role:"presentation",children:e.jsxs("div",{ref:l,className:"glass-card p-6 w-full max-w-md",onClick:r=>r.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"qos-modal-title",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:s.passed?"var(--g-green-muted)":"var(--g-red-muted)"},children:e.jsx(o,{className:"w-6 h-6",style:{color:n}})}),e.jsxs("div",{children:[e.jsx("h3",{id:"qos-modal-title",className:"font-bold",style:{color:"var(--g-text)"},children:s.profile_name}),e.jsx("p",{className:"text-sm",style:{color:n},children:s.passed?t("qos.allRequirementsMet"):t("qos.requirementsNotMet")})]})]}),e.jsx("button",{onClick:a,className:"p-1 rounded hover:bg-white/10","aria-label":t("qos.closeDialog"),children:e.jsx(E,{className:"w-5 h-5",style:{color:"var(--g-text-secondary)"},"aria-hidden":"true"})})]}),e.jsx("div",{className:"space-y-1",children:s.checks.map((r,c)=>e.jsx($,{check:r},c))}),!s.passed&&s.recommendation&&e.jsx("div",{className:"mt-4 p-3 rounded-lg text-sm",style:{backgroundColor:"var(--g-red-muted)",color:"var(--g-red)"},children:s.recommendation}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(A,{size:"sm",onClick:a,children:t("qos.close")})})]})})}function O(){const{t:s}=u(),{data:a,isLoading:t}=D(),[o,n]=g.useState(null);if(t)return e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(I,{size:32})});if(!a)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 g-animate-in",children:[e.jsx(f,{className:"w-5 h-5",style:{color:"var(--g-accent)"}}),e.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--g-text)"},children:s("qos.title")})]}),e.jsxs("div",{className:"glass-card p-8 text-center g-animate-in g-stagger-1",children:[e.jsx(B,{className:"w-12 h-12 mx-auto mb-4",style:{color:"var(--g-text-secondary)"}}),e.jsx("p",{style:{color:"var(--g-text-secondary)"},children:s("qos.noData")})]})]});const l=a.passed_profiles,d=a.total_profiles,r=Math.round(l/d*100);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between g-animate-in",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5",style:{color:"var(--g-accent)"}}),e.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--g-text)"},children:s("qos.title")})]}),e.jsx("p",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:s("qos.subtitle")})]}),e.jsxs("div",{className:"glass-card p-6 g-animate-in g-stagger-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",style:{color:"var(--g-text)"},children:s("qos.applicationCompatibility")}),e.jsx("p",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:a.summary})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-5 h-5",style:{color:"var(--g-green)"}}),e.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--g-green)"},children:l})]}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("qos.optimal")})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(h,{className:"w-5 h-5",style:{color:"var(--g-red)"}}),e.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--g-red)"},children:d-l})]}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("qos.limited")})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",style:{color:"var(--g-text-secondary)"},children:[e.jsx("span",{children:s("qos.compatibilityScore")}),e.jsxs("span",{children:[r,"%"]})]}),e.jsx("div",{className:"h-2 rounded-full",style:{backgroundColor:"var(--g-surface)"},children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${r}%`,backgroundColor:r>=80?"var(--g-green)":r>=50?"var(--g-amber)":"var(--g-red)"}})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 g-animate-in g-stagger-2",children:a.results.map(c=>e.jsx(Q,{result:c,onClick:()=>n(c)},c.profile_id))}),e.jsxs("div",{className:"flex items-center gap-6 text-sm g-animate-in g-stagger-3",style:{color:"var(--g-text-secondary)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--g-green)"}}),e.jsx("span",{children:s("qos.allRequirementsMet")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--g-red)"}}),e.jsx("span",{children:s("qos.someRequirementsNotMet")})]})]}),o&&e.jsx(G,{result:o,onClose:()=>n(null)})]})}export{O as QosPage};
