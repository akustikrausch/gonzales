import{a as i,j as e}from"./query-CSQiZfg4.js";import{c as b,u as L,s as ie,S as C,t as oe,v as de,w as ge,x as me,y as xe,z as he,k as S,n as ue,B as v,Z as ve,E as pe,F as ye,o as je,M as be,H as Ne,h as fe,f as Se,J as _e,K as ke,P as K,L as O,j as we,N as Ce,A as Me}from"./index-DWOQdPpf.js";import{G as x}from"./GlassCard-D-K6o67A.js";import{B as W}from"./brain-DlZjJdtL.js";import{T as F}from"./trending-up-C14quWJg.js";import{S as Te}from"./shield-BGjwNZe7.js";import{b as De,c as Q}from"./format-Bm42Q-0N.js";import{S as Be}from"./server-ByNVitAx.js";import"./vendor-7Rr5RJ8N.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Le=b("battery",Pe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ie=b("bell",ze);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Fe=b("languages",Ae);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],X=b("palette",Ue);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Y=b("save",$e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Ge=b("shuffle",Ee);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ee=b("timer",Re);function qe({value:s,onChange:t}){const{t:n}=L(),{data:o,isLoading:r,error:d}=ie(),[c,N]=i.useState("");if(r)return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{size:16}),e.jsx("span",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:n("settings.loadingServers")})]});if(d)return e.jsx("p",{className:"text-sm",style:{color:"var(--g-red)"},children:n("settings.failedToLoadServers")});const g=(o==null?void 0:o.servers)||[],h=c?g.filter(l=>l.name.toLowerCase().includes(c.toLowerCase())||l.location.toLowerCase().includes(c.toLowerCase())||l.country.toLowerCase().includes(c.toLowerCase())):g;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:n("settings.searchServers"),value:c,onChange:l=>N(l.target.value),className:"glass-input"}),e.jsxs(oe,{value:String(s),onChange:l=>t(Number(l.target.value)),children:[e.jsx("option",{value:"0",children:n("settings.autoNearestServer")}),h.map(l=>e.jsxs("option",{value:l.id,children:[l.name," - ",l.location,", ",l.country]},l.id))]})]})}const He=s=>({normal:{color:"var(--g-green)",bgColor:"var(--g-green-tint)",label:s("settings.phaseNormal"),description:s("settings.phaseNormalDesc"),icon:F},burst:{color:"var(--g-orange)",bgColor:"var(--g-orange-tint)",label:s("settings.phaseBurst"),description:s("settings.phaseBurstDesc"),icon:ve},recovery:{color:"var(--g-blue)",bgColor:"var(--g-blue-tint)",label:s("settings.phaseRecovery"),description:s("settings.phaseRecoveryDesc"),icon:F}});function Ve(){const{t:s}=L(),{data:t,isLoading:n}=de(),{data:o,isLoading:r}=ge(),d=me(),c=xe(),N=he(),[g,h]=i.useState(!1),[l,p]=i.useState(""),[_,y]=i.useState("");if(o&&!l&&(p(String(o.burst_interval_minutes)),y(String(o.daily_data_budget_mb))),n||r)return e.jsx(x,{children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(C,{size:24})})});if(!t||!o)return null;const k=c.isPending||N.isPending,m=He(s),u=m[t.phase]||m.normal,M=u.icon,T=()=>{t.enabled?N.mutate():c.mutate()},D=()=>{d.mutate({burst_interval_minutes:Number(l),daily_data_budget_mb:Number(_)})};return e.jsxs(x,{children:[e.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2",style:{color:"var(--g-text)"},children:[e.jsx(W,{className:"w-4 h-4",style:{color:"var(--g-text-secondary)"}}),s("settings.smartScheduling")]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:s("settings.adaptiveTestFrequency")}),e.jsx("p",{className:"text-xs mt-1",style:{color:"var(--g-text-secondary)"},children:s("settings.adaptiveTestFrequencyDesc")})]}),e.jsx(S,{variant:t.enabled?"default":"primary",onClick:T,disabled:k,children:k?e.jsx(C,{size:16}):t.enabled?s("settings.disable"):s("settings.enable")})]}),t.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6",children:[e.jsxs("div",{className:"p-3 rounded-lg",style:{background:u.bgColor},children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(M,{className:"w-3 h-3",style:{color:u.color}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("settings.phase")})]}),e.jsx("p",{className:"text-sm font-medium",style:{color:u.color},children:u.label})]}),e.jsxs("div",{className:"p-3 rounded-lg",style:{background:"var(--g-card-bg)"},children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(ue,{className:"w-3 h-3",style:{color:"var(--g-text-secondary)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("settings.interval")})]}),e.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:[t.current_interval_minutes,"m"]}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("settings.baseInterval",{minutes:t.base_interval_minutes})})]}),e.jsxs("div",{className:"p-3 rounded-lg",style:{background:"var(--g-card-bg)"},children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(F,{className:"w-3 h-3",style:{color:"var(--g-text-secondary)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("settings.stability")})]}),e.jsxs("p",{className:"text-sm font-medium",style:{color:t.stability_score>.8?"var(--g-green)":t.stability_score>.5?"var(--g-orange)":"var(--g-red)"},children:[Math.round(t.stability_score*100),"%"]})]}),e.jsxs("div",{className:"p-3 rounded-lg",style:{background:t.data_budget_warning?"var(--g-orange-tint)":"var(--g-card-bg)"},children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(Le,{className:"w-3 h-3",style:{color:"var(--g-text-secondary)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("settings.dataBudget")})]}),e.jsxs("p",{className:"text-sm font-medium",style:{color:t.data_budget_warning?"var(--g-orange)":"var(--g-text)"},children:[t.data_budget_remaining_pct.toFixed(0),"%"]}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("settings.dataBudgetUsed",{used:t.daily_data_used_mb.toFixed(0)})})]})]}),t.circuit_breaker_active&&e.jsxs("div",{className:"p-3 rounded-lg mb-4 flex items-center gap-2",style:{background:"var(--g-red-tint)"},children:[e.jsx(Te,{className:"w-4 h-4",style:{color:"var(--g-red)"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-red)"},children:s("settings.circuitBreakerActive")}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("settings.circuitBreakerDesc")})]})]}),t.last_decision_reason&&e.jsxs("div",{className:"p-3 rounded-lg mb-4",style:{background:"var(--g-card-bg)"},children:[e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:s("settings.lastDecision")}),e.jsx("p",{className:"text-sm",style:{color:"var(--g-text)"},children:t.last_decision_reason})]}),e.jsx("button",{onClick:()=>h(!g),className:"text-xs underline mb-4",style:{color:"var(--g-text-secondary)"},children:s(g?"settings.hideAdvancedSettings":"settings.showAdvancedSettings")}),g&&e.jsxs("div",{className:"space-y-4 max-w-sm",children:[e.jsx(v,{label:s("settings.burstInterval"),type:"number",min:5,max:30,value:l,onChange:f=>p(f.target.value)}),e.jsx("p",{className:"text-xs -mt-2",style:{color:"var(--g-text-secondary)"},children:s("settings.burstIntervalDesc")}),e.jsx(v,{label:s("settings.dailyDataBudget"),type:"number",min:100,max:10240,value:_,onChange:f=>y(f.target.value)}),e.jsx("p",{className:"text-xs -mt-2",style:{color:"var(--g-text-secondary)"},children:s("settings.dailyDataBudgetDesc")}),e.jsx(S,{variant:"primary",onClick:D,disabled:d.isPending,children:d.isPending?s("settings.saving"):s("settings.saveSettings")})]})]}),!t.enabled&&e.jsxs("div",{className:"p-4 rounded-lg text-center",style:{background:"var(--g-card-bg)"},children:[e.jsx(W,{className:"w-8 h-8 mx-auto mb-2",style:{color:"var(--g-text-secondary)"}}),e.jsx("p",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:s("settings.enableSmartScheduling")}),e.jsxs("ul",{className:"text-xs mt-3 space-y-1 text-left max-w-xs mx-auto",style:{color:"var(--g-text-secondary)"},children:[e.jsxs("li",{children:["• ",s("settings.smartSchedulingBenefits1")]}),e.jsxs("li",{children:["• ",s("settings.smartSchedulingBenefits2")]}),e.jsxs("li",{children:["• ",s("settings.smartSchedulingBenefits3")]})]})]})]})}function Ze(){const{t:s}=L(),{theme:t,setTheme:n}=pe(),o=[{value:"auto",label:s("settings.themeAuto"),Icon:ye},{value:"light",label:s("settings.themeLight"),Icon:je},{value:"dark",label:s("settings.themeDark"),Icon:be}];return e.jsx("div",{className:"flex gap-2",children:o.map(({value:r,label:d,Icon:c})=>e.jsxs("button",{onClick:()=>n(r),className:"glass-btn flex-1 flex-col gap-1 py-3",style:{borderColor:t===r?"var(--g-blue)":void 0,background:t===r?"rgba(0, 122, 255, 0.1)":void 0,color:t===r?"var(--g-blue)":"var(--g-text)"},children:[e.jsx(c,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:d})]},r))})}function ts(){const{t:s,i18n:t}=L(),{data:n,isLoading:o}=Ne(),{data:r}=fe(),{data:d}=Se(),c=_e(),{mutate:N,isPending:g}=ke(),[h,l]=i.useState(""),[p,_]=i.useState(""),[y,k]=i.useState(""),[m,u]=i.useState(15),[M,T]=i.useState(0),[D,f]=i.useState(""),[U,$]=i.useState(""),[B,E]=i.useState("0"),[j,G]=i.useState(!1),[R,P]=i.useState(!1),[se,z]=i.useState(!1);if(i.useEffect(()=>{n&&(l(String(n.test_interval_minutes)),_(String(n.download_threshold_mbps)),k(String(n.upload_threshold_mbps)),u(n.tolerance_percent),T(n.preferred_server_id),f(n.isp_name||""),$(n.webhook_url||""),E(String(n.data_retention_days||0)),G(n.scheduler_randomize),P(!1),z(!1))},[n]),o)return e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(C,{size:32})});const te=()=>{c.mutate({test_interval_minutes:Number(h),download_threshold_mbps:Number(p),upload_threshold_mbps:Number(y),tolerance_percent:m,preferred_server_id:M,isp_name:D},{onSuccess:()=>P(!1)})},ae=()=>{c.mutate({webhook_url:U,data_retention_days:Number(B)},{onSuccess:()=>z(!1)})},I=Number(h||60),q=Math.floor(Math.min(Math.max(I*.25,1),30)),re=Number(p)*(1-m/100),ne=Number(y)*(1-m/100),H=Math.floor(1440/Number(h||60)),le=(Number(p||100)+Number(y||50))*10/8,V=H*le,Z=V/1024,ce=a=>{T(a),P(!0)},w=(a,A)=>{a(A),P(!0)},J=(a,A)=>{a(A),z(!0)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"g-animate-in",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",style:{color:"var(--g-text)"},children:[e.jsx(ee,{className:"w-5 h-5"}),s("settings.title")]}),e.jsx("p",{className:"text-sm mt-1",style:{color:"var(--g-text-secondary)"},children:s("settings.subtitle")})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold uppercase tracking-wider flex items-center gap-2 g-animate-in g-stagger-1",style:{color:"var(--g-text-secondary)"},children:[e.jsx(ee,{className:"w-4 h-4"}),s("settings.scheduler")]}),r&&e.jsx(x,{className:"g-animate-in g-stagger-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:r.scheduler.enabled?"var(--g-green-tint)":"var(--g-yellow-tint)"},children:r.scheduler.enabled?e.jsx(K,{className:"w-5 h-5",style:{color:"var(--g-green)"}}):e.jsx(O,{className:"w-5 h-5",style:{color:"var(--g-yellow)"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:s("settings.automaticSpeedTests")}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:r.scheduler.enabled?s("settings.runningEvery",{minutes:r.scheduler.interval_minutes}):s("settings.pausedOnlyManual")})]})]}),e.jsxs(S,{variant:r.scheduler.enabled?"default":"primary",onClick:()=>N(!r.scheduler.enabled),disabled:g,"aria-label":r.scheduler.enabled?s("header.pauseScheduler"):s("header.resumeScheduler"),children:[g?e.jsx(C,{size:16}):r.scheduler.enabled?e.jsx(O,{className:"w-4 h-4"}):e.jsx(K,{className:"w-4 h-4"}),g?"...":r.scheduler.enabled?s("settings.pause"):s("settings.resume")]})]})}),e.jsx(x,{className:"g-animate-in g-stagger-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:j?"var(--g-green-tint)":"var(--g-border-subtle, var(--g-border))"},children:e.jsx(Ge,{className:"w-5 h-5",style:{color:j?"var(--g-green)":"var(--g-text-secondary)"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:s("settings.randomizeSchedule")}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:j?s("settings.randomizeScheduleActive",{jitter:String(q),min:String(I),max:String(I+q)}):s("settings.randomizeScheduleDesc")})]})]}),e.jsx(S,{variant:j?"default":"primary",onClick:()=>{const a=!j;G(a),c.mutate({scheduler_randomize:a})},disabled:c.isPending,"aria-label":s(j?"settings.disableRandomization":"settings.enableRandomization"),children:s(j?"settings.disable":"settings.enable")})]})}),e.jsx("div",{className:"g-animate-in g-stagger-4",children:e.jsx(Ve,{})})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold uppercase tracking-wider flex items-center gap-2 g-animate-in g-stagger-4",style:{color:"var(--g-text-secondary)"},children:[e.jsx(we,{className:"w-4 h-4"}),s("settings.speedTestConfiguration")]}),e.jsxs(x,{className:"g-animate-in g-stagger-5",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsx("h4",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:s("settings.testParameters")}),e.jsxs("div",{children:[e.jsx(v,{label:s("settings.testInterval"),type:"number",min:1,max:1440,value:h,onChange:a=>w(l,a.target.value)}),e.jsxs("p",{className:"text-xs mt-2",style:{color:"var(--g-text-secondary)"},children:[s("settings.testsPerDay",{count:H})," ·"," ",s("settings.dataUsagePerDay",{usage:Z>=1?`${Z.toFixed(1)} GB/day`:`${Math.round(V)} MB/day`})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(v,{label:s("settings.downloadTarget"),type:"number",min:0,step:.1,value:p,onChange:a=>w(_,a.target.value)}),e.jsx(v,{label:s("settings.uploadTarget"),type:"number",min:0,step:.1,value:y,onChange:a=>w(k,a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--g-text)"},children:s("settings.toleranceLabel",{percent:m})}),e.jsx("input",{type:"range",min:0,max:50,step:1,value:m,onChange:a=>w(u,Number(a.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, var(--g-accent) 0%, var(--g-accent) ${m*2}%, var(--g-border) ${m*2}%, var(--g-border) 100%)`}}),e.jsx("p",{className:"text-xs mt-2",style:{color:"var(--g-text-secondary)"},children:s("settings.minAcceptable",{download:re.toFixed(0),upload:ne.toFixed(0)})})]}),e.jsx(v,{label:s("settings.ispProviderName"),type:"text",placeholder:"e.g., Deutsche Telekom",value:D,onChange:a=>w(f,a.target.value)})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",style:{color:"var(--g-text)"},children:[e.jsx(Be,{className:"w-4 h-4"}),s("settings.serverSelection")]}),e.jsx(qe,{value:M,onChange:ce})]})]}),e.jsxs("div",{className:"mt-6 pt-6 flex items-center justify-between",style:{borderTop:"1px solid var(--g-border)"},children:[e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:R?e.jsx("span",{style:{color:"var(--g-yellow)"},children:s("settings.unsavedChanges")}):s("settings.allChangesSaved")}),e.jsxs(S,{variant:"primary",onClick:te,disabled:c.isPending||!R,children:[e.jsx(Y,{className:"w-4 h-4"}),c.isPending?s("settings.saving"):s("settings.saveTestSettings")]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold uppercase tracking-wider flex items-center gap-2 g-animate-in g-stagger-6",style:{color:"var(--g-text-secondary)"},children:[e.jsx(X,{className:"w-4 h-4"}),s("settings.preferences")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(x,{className:"g-animate-in g-stagger-7",children:[e.jsxs("h4",{className:"text-sm font-medium mb-4 flex items-center gap-2",style:{color:"var(--g-text)"},children:[e.jsx(X,{className:"w-4 h-4"}),s("settings.appearance")]}),e.jsx(Ze,{})]}),e.jsxs(x,{className:"g-animate-in g-stagger-7",children:[e.jsxs("h4",{className:"text-sm font-medium mb-4 flex items-center gap-2",style:{color:"var(--g-text)"},children:[e.jsx(Fe,{className:"w-4 h-4"}),s("settings.language")]}),e.jsx("div",{className:"space-y-2",children:Ce.map(a=>e.jsxs("button",{onClick:()=>t.changeLanguage(a.code),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors",style:{backgroundColor:t.language===a.code?"var(--g-accent-dim)":"transparent",color:t.language===a.code?"var(--g-accent)":"var(--g-text)",border:t.language===a.code?"1px solid var(--g-accent)":"1px solid var(--g-border)"},children:[e.jsx("span",{className:"text-sm font-medium",children:a.label}),t.language===a.code&&e.jsx("span",{className:"ml-auto text-xs",children:"✓"})]},a.code))})]}),e.jsxs(x,{className:"g-animate-in g-stagger-8",children:[e.jsxs("h4",{className:"text-sm font-medium mb-4 flex items-center gap-2",style:{color:"var(--g-text)"},children:[e.jsx(Ie,{className:"w-4 h-4"}),s("settings.notificationsData")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{label:s("settings.webhookUrl"),type:"url",placeholder:"https://webhook.example.com",value:U,onChange:a=>J($,a.target.value)}),e.jsx("p",{className:"text-xs mt-1",style:{color:"var(--g-text-secondary)"},children:s("settings.leaveEmptyToDisable")})]}),e.jsxs("div",{children:[e.jsx(v,{label:s("settings.dataRetention"),type:"number",min:0,max:3650,placeholder:"0",value:B,onChange:a=>J(E,a.target.value)}),e.jsx("p",{className:"text-xs mt-1",style:{color:"var(--g-text-secondary)"},children:Number(B)===0?s("settings.keepForever"):s("settings.autoDeleteAfter",{days:B})})]}),e.jsx("div",{className:"pt-2",children:e.jsxs(S,{variant:"primary",size:"sm",onClick:ae,disabled:c.isPending||!se,children:[e.jsx(Y,{className:"w-3 h-3"}),s("settings.save")]})})]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold uppercase tracking-wider flex items-center gap-2 g-animate-in g-stagger-9",style:{color:"var(--g-text-secondary)"},children:[e.jsx(Me,{className:"w-4 h-4"}),s("settings.systemInformation")]}),e.jsxs(x,{className:"g-animate-in g-stagger-10",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6",children:r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.version")}),e.jsxs("a",{href:"https://github.com/akustikrausch/gonzales/releases",target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold hover:underline",style:{color:"var(--g-accent)"},children:["v",r.version]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.uptime")}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:De(r.uptime_seconds)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.measurements")}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:r.total_measurements.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.failures")}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:r.total_failures})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.database")}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:Q(r.db_size_bytes)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.dataUsed")}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:d?Q(d.total_data_used_bytes):"—"})]})]})}),n&&e.jsxs("div",{className:"mt-6 pt-6 grid grid-cols-3 gap-4",style:{borderTop:"1px solid var(--g-border)"},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.host")}),e.jsx("p",{className:"text-sm font-mono",style:{color:"var(--g-text)"},children:n.host})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.port")}),e.jsx("p",{className:"text-sm font-mono",style:{color:"var(--g-text)"},children:n.port})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-1",style:{color:"var(--g-text-secondary)"},children:s("settings.logLevel")}),e.jsx("p",{className:"text-sm font-mono",style:{color:"var(--g-text)"},children:n.log_level})]})]})]})]})]})}export{ts as SettingsPage};
