import{j as e,a as y}from"./query-CSQiZfg4.js";import{c as u,G as $,i as B,M as Q,j as se,k as ae,l as te,b as re,S as le,f as oe}from"./index-CUjBZIj-.js";import{D as ne}from"./DateRangeFilter-Daj6THoT.js";import{G as d}from"./GlassCard-BeFGED1K.js";import{A as p,P as N,u as Y,W as ie}from"./ProgressRing-BYBx3NsP.js";import{R as _,B as X,C as U,X as G,Y as P,T as w,d as F,e as ce,P as de,f as xe,g as R,A as me,b as T,h as W,c as I,a as ge}from"./charts-ZBqAZ0pw.js";import{a as K}from"./format-Cx2mhIEl.js";import{S as pe}from"./shield-D_AGsmj_.js";import{a as L,A as ue}from"./arrow-up-BnPH2YFr.js";import{C as h,T as J}from"./triangle-alert-Dzdka4SK.js";import{I as ve}from"./info-BAQ3PcQW.js";import"./vendor-7Rr5RJ8N.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ye=u("cloud",he);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],be=u("star",je);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],Ne=u("sunrise",fe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],we=u("sunset",_e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Se=u("trending-down",ke);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Z=u("trending-up",De);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ee=u("wifi-off",Me);function S({label:s,stat:a,unit:t,color:l}){return a?e.jsxs(d,{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",style:{color:l},children:s}),e.jsx("div",{className:"grid grid-cols-5 gap-3 text-center",children:["min","max","avg","median","stddev"].map(r=>e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase",style:{color:"var(--g-text-secondary)"},children:r}),e.jsx(p,{value:a[r],decimals:1,className:"text-lg font-bold block",style:{color:"var(--g-text)"}}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:t})]},r))})]}):null}function Ce({stats:s}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:"Total Tests"}),e.jsx(p,{value:s.total_tests,decimals:0,className:"text-3xl font-bold block",style:{color:"var(--g-text)"}})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:"Threshold Violations"}),e.jsxs("div",{className:"flex gap-4 mt-1",children:[e.jsxs("span",{className:"text-sm",children:[e.jsx(p,{value:s.download_violations,decimals:0,className:"font-bold",style:{color:"var(--g-red)"}})," ","DL"]}),e.jsxs("span",{className:"text-sm",children:[e.jsx(p,{value:s.upload_violations,decimals:0,className:"font-bold",style:{color:"var(--g-red)"}})," ","UL"]})]})]})]})}),e.jsx(S,{label:"Download",stat:s.download,unit:"Mbps",color:"var(--g-blue)"}),e.jsx(S,{label:"Upload",stat:s.upload,unit:"Mbps",color:"var(--g-green)"}),e.jsx(S,{label:"Ping",stat:s.ping,unit:"ms",color:"var(--g-orange)"})]})}function D({label:s,stat:a,unit:t,color:l}){const r=a.percentiles,i=[{label:"P5",value:r.p5},{label:"P25",value:r.p25},{label:"P50",value:r.p50},{label:"P75",value:r.p75},{label:"P95",value:r.p95}],n=Math.max(...i.map(c=>c.value),1),[o,g]=y.useState(!1);return y.useEffect(()=>{const c=setTimeout(()=>g(!0),50);return()=>clearTimeout(c)},[]),e.jsxs(d,{children:[e.jsxs("h4",{className:"text-sm font-semibold mb-4",style:{color:l},children:[s," Percentiles"]}),e.jsx("div",{className:"space-y-2",children:i.map((c,x)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-8 text-xs font-medium text-right",style:{color:"var(--g-text-secondary)"},children:c.label}),e.jsx("div",{className:"flex-1 h-5 rounded-full overflow-hidden",style:{background:"var(--g-glass-bg)"},children:e.jsx("div",{className:"h-full rounded-full",style:{width:o?`${c.value/n*100}%`:"0%",backgroundColor:l,transition:`width 600ms ${150+x*80}ms cubic-bezier(0.16, 1, 0.3, 1)`}})}),e.jsxs("span",{className:"w-20 text-xs font-medium tabular-nums text-right",style:{color:"var(--g-text)"},children:[c.value.toFixed(1)," ",t]})]},c.label))})]})}function M({measurements:s,field:a,label:t,unit:l,color:r,bins:i=15}){if(s.length===0)return null;const n=s.map(v=>v[a]),o=Math.min(...n),x=(Math.max(...n)-o||1)/i,m=Array.from({length:i},(v,k)=>({range:`${(o+k*x).toFixed(0)}`,count:0}));for(const v of n){const k=Math.min(Math.floor((v-o)/x),i-1);m[k].count++}return e.jsxs(d,{children:[e.jsxs("h4",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:[t," Distribution (",l,")"]}),e.jsx(_,{width:"100%",height:200,children:e.jsxs(X,{data:m,children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"var(--g-border)"}),e.jsx(G,{dataKey:"range",tick:{fontSize:10},stroke:"var(--g-text-tertiary)"}),e.jsx(P,{tick:{fontSize:11},stroke:"var(--g-text-tertiary)"}),e.jsx(w,{}),e.jsx(F,{dataKey:"count",fill:r,radius:[4,4,0,0]})]})})]})}function $e({data:s}){const a=Math.max(...s.map(l=>l.avg_download_mbps),1),t=l=>{const r=l/a;return r===0?"var(--g-border)":`rgba(0, 122, 255, ${.15+r*.85})`};return e.jsxs(d,{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"Speed by Hour of Day"}),e.jsx("div",{className:"grid grid-cols-12 gap-1",children:s.map(l=>e.jsxs("div",{className:"flex flex-col items-center gap-1",title:`${l.hour}:00 - Avg: ${l.avg_download_mbps.toFixed(1)} Mbps (${l.count} tests)`,children:[e.jsx("div",{className:"w-full aspect-square rounded",style:{background:t(l.avg_download_mbps),minWidth:"20px"}}),e.jsx("span",{className:"text-[9px] tabular-nums",style:{color:"var(--g-text-tertiary)"},children:l.hour})]},l.hour))}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:"0 Mbps"}),e.jsx("div",{className:"flex gap-0.5",children:[.2,.4,.6,.8,1].map(l=>e.jsx("div",{className:"w-3 h-3 rounded-sm",style:{background:`rgba(0, 122, 255, ${l})`}},l))}),e.jsxs("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:[a.toFixed(0)," Mbps"]})]})]})}function Fe({data:s}){const a=s.map(t=>({day:t.day_name.slice(0,3),download:t.avg_download_mbps,upload:t.avg_upload_mbps}));return e.jsxs(d,{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"Average Speed by Day of Week"}),e.jsx(_,{width:"100%",height:300,children:e.jsxs(ce,{data:a,cx:"50%",cy:"50%",outerRadius:"70%",children:[e.jsx(de,{stroke:"var(--g-border)"}),e.jsx(xe,{dataKey:"day",tick:{fontSize:11,fill:"var(--g-text-secondary)"}}),e.jsx(w,{}),e.jsx(R,{name:"Download",dataKey:"download",stroke:"var(--g-blue)",fill:"var(--g-blue)",fillOpacity:.15,strokeWidth:2}),e.jsx(R,{name:"Upload",dataKey:"upload",stroke:"var(--g-green)",fill:"var(--g-green)",fillOpacity:.1,strokeWidth:2})]})})]})}function Le({trend:s,predictions:a,downloadThreshold:t,uploadThreshold:l}){if(s.points.length===0)return null;const r=s.points.map(n=>({time:K(n.timestamp),download:Number(n.download_mbps.toFixed(1)),upload:Number(n.upload_mbps.toFixed(1))}));if(a&&a.points.length>0){const n=r[r.length-1];r.push({...n,pred_download:n.download,pred_upload:n.upload});for(const o of a.points)r.push({time:K(o.timestamp),pred_download:Number(o.download_mbps.toFixed(1)),pred_upload:Number(o.upload_mbps.toFixed(1))})}const i=(n,o)=>{const g=n>0?"+":"";return`${o}: ${g}${n.toFixed(2)} Mbps/day`};return e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--g-text)"},children:"Speed Trend"}),a&&e.jsxs($,{color:"var(--g-teal)",children:["7-day forecast (",a.confidence,")"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{className:"text-xs",style:{color:"var(--g-blue)"},children:i(s.download_slope,"DL")}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-green)"},children:i(s.upload_slope,"UL")})]})]}),e.jsx(_,{width:"100%",height:300,children:e.jsxs(me,{data:r,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"dlGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"var(--g-blue)",stopOpacity:.15}),e.jsx("stop",{offset:"95%",stopColor:"var(--g-blue)",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"ulGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"var(--g-green)",stopOpacity:.15}),e.jsx("stop",{offset:"95%",stopColor:"var(--g-green)",stopOpacity:0})]})]}),e.jsx(U,{strokeDasharray:"3 3",stroke:"var(--g-border)"}),e.jsx(G,{dataKey:"time",tick:{fontSize:11},stroke:"var(--g-text-tertiary)"}),e.jsx(P,{tick:{fontSize:11},stroke:"var(--g-text-tertiary)",unit:" Mbps"}),e.jsx(w,{contentStyle:{background:"var(--g-card-bg)",border:"1px solid var(--g-card-border)",borderRadius:"var(--g-radius-sm)",backdropFilter:"blur(20px)",fontSize:"var(--g-text-xs)"}}),t&&e.jsx(T,{y:t,stroke:"var(--g-blue)",strokeDasharray:"5 5",strokeOpacity:.6,label:{value:`Min ${t} Mbps`,position:"right",fill:"var(--g-blue)",fontSize:10}}),l&&e.jsx(T,{y:l,stroke:"var(--g-green)",strokeDasharray:"5 5",strokeOpacity:.6,label:{value:`Min ${l} Mbps`,position:"right",fill:"var(--g-green)",fontSize:10}}),e.jsx(W,{type:"monotone",dataKey:"download",stroke:"var(--g-blue)",fill:"url(#dlGrad)",strokeWidth:2,name:"Download",animationDuration:1e3,animationBegin:0,animationEasing:"ease-out",connectNulls:!1}),e.jsx(W,{type:"monotone",dataKey:"upload",stroke:"var(--g-green)",fill:"url(#ulGrad)",strokeWidth:2,name:"Upload",animationDuration:1e3,animationBegin:200,animationEasing:"ease-out",connectNulls:!1}),e.jsx(I,{type:"monotone",dataKey:"pred_download",stroke:"var(--g-blue)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,name:"DL Forecast",animationDuration:800,animationBegin:400,connectNulls:!0}),e.jsx(I,{type:"monotone",dataKey:"pred_upload",stroke:"var(--g-green)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,name:"UL Forecast",animationDuration:800,animationBegin:600,connectNulls:!0})]})})]})}function Ae({sla:s}){return e.jsxs(d,{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"SLA Compliance"}),e.jsxs("div",{className:"flex justify-around",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs(N,{value:s.download_compliance_pct,size:90,strokeWidth:6,color:"var(--g-blue)",children:[e.jsx(p,{value:s.download_compliance_pct,decimals:0,className:"text-sm font-bold",style:{color:"var(--g-blue)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-blue)"},children:"%"})]}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"Download"}),e.jsxs("span",{className:"text-[10px] tabular-nums",style:{color:"var(--g-text-tertiary)"},children:[s.download_compliant,"/",s.total_tests]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs(N,{value:s.upload_compliance_pct,size:90,strokeWidth:6,color:"var(--g-green)",children:[e.jsx(p,{value:s.upload_compliance_pct,decimals:0,className:"text-sm font-bold",style:{color:"var(--g-green)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-green)"},children:"%"})]}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"Upload"}),e.jsxs("span",{className:"text-[10px] tabular-nums",style:{color:"var(--g-text-tertiary)"},children:[s.upload_compliant,"/",s.total_tests]})]})]})]})}function ze({reliability:s}){const a=s.composite_score,t=a>=80?"var(--g-green)":a>=50?"var(--g-orange)":"var(--g-red)";return e.jsxs(d,{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"Reliability Score"}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(N,{value:a,size:110,strokeWidth:8,color:t,children:e.jsx(p,{value:a,decimals:0,className:"text-2xl font-bold",style:{color:t}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center w-full mt-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"DL CV"}),e.jsx(p,{value:s.download_cv*100,decimals:1,className:"text-sm font-medium",style:{color:"var(--g-text)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"%"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"UL CV"}),e.jsx(p,{value:s.upload_cv*100,decimals:1,className:"text-sm font-medium",style:{color:"var(--g-text)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"%"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"Ping CV"}),e.jsx(p,{value:s.ping_cv*100,decimals:1,className:"text-sm font-medium",style:{color:"var(--g-text)"}}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:"%"})]})]})]})]})}function Be({servers:s}){if(s.length===0)return null;const a=s.map(t=>({name:t.server_name.length>15?t.server_name.slice(0,15)+"...":t.server_name,download:t.avg_download_mbps,upload:t.avg_upload_mbps,tests:t.test_count}));return e.jsxs(d,{children:[e.jsx("h4",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"Server Comparison"}),e.jsx(_,{width:"100%",height:300,children:e.jsxs(X,{data:a,children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"var(--g-border)"}),e.jsx(G,{dataKey:"name",tick:{fontSize:10},stroke:"var(--g-text-tertiary)"}),e.jsx(P,{tick:{fontSize:11},stroke:"var(--g-text-tertiary)",unit:" Mbps"}),e.jsx(w,{}),e.jsx(ge,{}),e.jsx(F,{dataKey:"download",fill:"var(--g-blue)",name:"Download",radius:[4,4,0,0]}),e.jsx(F,{dataKey:"upload",fill:"var(--g-green)",name:"Upload",radius:[4,4,0,0]})]})})]})}const Ue={"A+":"var(--g-green)",A:"var(--g-green)",B:"var(--g-teal)",C:"var(--g-orange)",D:"var(--g-red)",F:"var(--g-red)"};function j({label:s,value:a,color:t}){const l=Y(a,800);return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs w-24 text-right shrink-0",style:{color:"var(--g-text-secondary)"},children:s}),e.jsx("div",{className:"flex-1 h-2 rounded-full",style:{background:"var(--g-border)"},children:e.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${Math.min(100,l)}%`,background:t,boxShadow:`0 0 8px ${t}40`}})}),e.jsx("span",{className:"text-xs tabular-nums w-10",style:{color:"var(--g-text-secondary)"},children:l.toFixed(0)})]})}function E({score:s}){const a=Ue[s.grade]||"var(--g-blue)",t=Y(s.composite,1e3);return e.jsxs(d,{padding:"lg",depth:"elevated",className:"g-animate-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(pe,{className:"w-4 h-4",style:{color:a}}),e.jsx("h3",{className:"text-sm font-semibold",style:{color:"var(--g-text)"},children:"ISP Performance Score"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(N,{value:s.composite,max:100,size:120,strokeWidth:6,color:a,glow:!0,children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-3xl font-bold tabular-nums",style:{color:a,textShadow:`0 0 16px ${a}30`},children:t.toFixed(0)}),e.jsx("span",{className:"text-xs block",style:{color:"var(--g-text-secondary)"},children:"/ 100"})]})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-2xl font-bold",style:{color:a,textShadow:`0 0 12px ${a}30`},children:s.grade}),e.jsx("span",{className:"text-xs",style:{color:"var(--g-text-tertiary)"},children:"Grade"})]}),e.jsx(j,{label:"Speed",value:s.breakdown.speed_score,color:"var(--g-blue)"}),e.jsx(j,{label:"Latency",value:s.breakdown.latency_score,color:"var(--g-orange)"}),e.jsx(j,{label:"Reliability",value:s.breakdown.reliability_score,color:"var(--g-green)"}),e.jsx(j,{label:"Consistency",value:s.breakdown.consistency_score,color:"var(--g-teal)"})]})]})]})}function C({icon:s,label:a,hours:t,download:l,upload:r,ping:i,count:n,isBest:o,isWorst:g}){const c=o?"var(--g-green)":g?"var(--g-red)":"var(--g-border)";return e.jsxs(d,{padding:"md",className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{border:o||g?`1px solid ${c}`:void 0,boxShadow:o?`0 0 12px ${c}20`:g?`0 0 12px ${c}20`:void 0}}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(s,{className:"w-4 h-4",style:{color:"var(--g-text-secondary)"}}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--g-text)"},children:a}),e.jsx("span",{className:"text-[10px] ml-auto",style:{color:"var(--g-text-tertiary)"},children:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs flex items-center gap-1",style:{color:"var(--g-text-secondary)"},children:[e.jsx(L,{className:"w-3 h-3",style:{color:"var(--g-blue)"}})," Download"]}),e.jsxs("span",{className:"text-sm font-semibold tabular-nums",style:{color:"var(--g-blue)"},children:[l.toFixed(1)," Mbps"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs flex items-center gap-1",style:{color:"var(--g-text-secondary)"},children:[e.jsx(ue,{className:"w-3 h-3",style:{color:"var(--g-green)"}})," Upload"]}),e.jsxs("span",{className:"text-sm font-semibold tabular-nums",style:{color:"var(--g-green)"},children:[r.toFixed(1)," Mbps"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs flex items-center gap-1",style:{color:"var(--g-text-secondary)"},children:[e.jsx(h,{className:"w-3 h-3",style:{color:"var(--g-orange)"}})," Ping"]}),e.jsxs("span",{className:"text-sm font-semibold tabular-nums",style:{color:"var(--g-orange)"},children:[i.toFixed(1)," ms"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2",style:{borderTop:"1px solid var(--g-border)"},children:[e.jsxs("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:[n," tests"]}),o&&e.jsx($,{color:"var(--g-green)",children:"Best"}),g&&e.jsx($,{color:"var(--g-red)",children:"Worst"})]})]})}function b({label:s,time:a,value:t,unit:l,color:r,icon:i}){return e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg",style:{background:`${r}08`},children:[e.jsx(i,{className:"w-3.5 h-3.5",style:{color:r}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-xs block",style:{color:"var(--g-text-secondary)"},children:s}),e.jsx("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:a})]}),e.jsxs("span",{className:"text-sm font-semibold tabular-nums",style:{color:r},children:[t.toFixed(1)," ",l]})]})}function H({peakOffPeak:s,bestWorstTimes:a}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(C,{icon:B,label:s.peak.label,hours:s.peak.hours,download:s.peak.avg_download_mbps,upload:s.peak.avg_upload_mbps,ping:s.peak.avg_ping_ms,count:s.peak.count,isBest:s.best_period==="Peak",isWorst:s.worst_period==="Peak"}),e.jsx(C,{icon:we,label:s.offpeak.label,hours:s.offpeak.hours,download:s.offpeak.avg_download_mbps,upload:s.offpeak.avg_upload_mbps,ping:s.offpeak.avg_ping_ms,count:s.offpeak.count,isBest:s.best_period==="Off-Peak",isWorst:s.worst_period==="Off-Peak"}),e.jsx(C,{icon:Q,label:s.night.label,hours:s.night.hours,download:s.night.avg_download_mbps,upload:s.night.avg_upload_mbps,ping:s.night.avg_ping_ms,count:s.night.count,isBest:s.best_period==="Night",isWorst:s.worst_period==="Night"})]}),a&&e.jsxs(d,{padding:"md",className:"g-animate-in g-stagger-1",children:[e.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"var(--g-text-tertiary)"},children:"Best / Worst Hours"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.best_download&&e.jsx(b,{label:"Best Download",time:a.best_download.label,value:a.best_download.avg_download_mbps,unit:"Mbps",color:"var(--g-blue)",icon:L}),a.worst_download&&e.jsx(b,{label:"Worst Download",time:a.worst_download.label,value:a.worst_download.avg_download_mbps,unit:"Mbps",color:"var(--g-red)",icon:L}),a.best_ping&&e.jsx(b,{label:"Best Ping",time:a.best_ping.label,value:a.best_ping.avg_ping_ms,unit:"ms",color:"var(--g-green)",icon:h}),a.worst_ping&&e.jsx(b,{label:"Worst Ping",time:a.worst_ping.label,value:a.worst_ping.avg_ping_ms,unit:"ms",color:"var(--g-red)",icon:h})]})]})]})}const Ge={morning:Ne,midday:B,afternoon:ye,evening:Q,night:be},Pe={morning:"var(--g-orange)",midday:"var(--g-yellow)",afternoon:"var(--g-blue)",evening:"var(--g-purple)",night:"var(--g-text-tertiary)"};function O(s){return s>=95?"var(--g-green)":s>=80?"var(--g-yellow)":"var(--g-red)"}function Re({data:s}){return e.jsxs(d,{children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"Time of Day Analysis"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:s.periods.map(a=>{const t=Ge[a.period]||B,l=a.period===s.best_period,r=a.period===s.worst_period&&s.best_period!==s.worst_period,i=a.test_count>0;return e.jsxs("div",{className:"relative p-3 rounded-lg transition-all",style:{background:l?"var(--g-green)12":r?"var(--g-red)08":"var(--g-glass)",border:l?"1px solid var(--g-green)":r?"1px solid var(--g-red)":"1px solid var(--g-border)"},children:[l&&e.jsx("span",{className:"absolute -top-2 -right-2 text-[10px] px-1.5 py-0.5 rounded-full",style:{background:"var(--g-green)",color:"white"},children:"Best"}),r&&e.jsx("span",{className:"absolute -top-2 -right-2 text-[10px] px-1.5 py-0.5 rounded-full",style:{background:"var(--g-red)",color:"white"},children:"Worst"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(t,{className:"w-4 h-4",style:{color:Pe[a.period]}}),e.jsx("span",{className:"text-xs font-medium truncate",style:{color:"var(--g-text)"},children:a.period_label.split(" ")[0]})]}),e.jsx("div",{className:"text-[10px] mb-2",style:{color:"var(--g-text-tertiary)"},children:a.hours}),i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1 mb-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{style:{color:"var(--g-text-secondary)"},children:"DL"}),e.jsxs("span",{className:"font-medium",style:{color:"var(--g-blue)"},children:[a.avg_download_mbps.toFixed(0)," Mbps"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{style:{color:"var(--g-text-secondary)"},children:"UL"}),e.jsxs("span",{className:"font-medium",style:{color:"var(--g-green)"},children:[a.avg_upload_mbps.toFixed(0)," Mbps"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{style:{color:"var(--g-text-secondary)"},children:"Ping"}),e.jsxs("span",{className:"font-medium",style:{color:"var(--g-orange)"},children:[a.avg_ping_ms.toFixed(1)," ms"]})]})]}),e.jsxs("div",{className:"text-center py-1 rounded text-xs font-medium",style:{background:`${O(a.compliance_pct)}15`,color:O(a.compliance_pct)},children:[a.compliance_pct.toFixed(0),"% OK"]}),e.jsxs("div",{className:"text-center text-[10px] mt-1",style:{color:"var(--g-text-tertiary)"},children:[a.test_count," tests"]})]}):e.jsx("div",{className:"text-center text-xs py-4",style:{color:"var(--g-text-tertiary)"},children:"No data"})]},a.period)})})]})}function Te(s,a,t){if(t===0)return"var(--g-border)";const l=s/a;return l>=.9?"var(--g-green)":l>=.7?"var(--g-teal)":l>=.5?"var(--g-orange)":"var(--g-red)"}function We(s,a,t){if(t===0)return"No data";const l=s/a;return l>=.9?"Excellent":l>=.7?"Good":l>=.5?"Fair":"Poor"}function Ie({data:s,downloadThreshold:a}){return e.jsxs(d,{padding:"md",className:"g-animate-in",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"Network Quality by Hour"}),e.jsx("div",{className:"flex gap-0.5",children:s.map(t=>{const l=Te(t.avg_download_mbps,a,t.count),r=We(t.avg_download_mbps,a,t.count);return e.jsxs("div",{className:"flex-1 group relative",children:[e.jsx("div",{className:"h-8 rounded-sm transition-all duration-300 hover:scale-y-125 hover:brightness-110 cursor-default",style:{background:l,opacity:t.count===0?.2:.7+Math.min(.3,t.count*.05)}}),e.jsx("span",{className:"text-[8px] block text-center mt-1 tabular-nums",style:{color:"var(--g-text-tertiary)"},children:t.hour.toString().padStart(2,"0")}),e.jsxs("div",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1.5 rounded-lg
                           opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap`,style:{background:"var(--g-glass-bg)",backdropFilter:"blur(12px)",border:"1px solid var(--g-border)",boxShadow:"var(--g-shadow-elevated)"},children:[e.jsxs("div",{className:"text-[10px] font-medium",style:{color:"var(--g-text)"},children:[t.hour.toString().padStart(2,"0"),":00 - ",r]}),t.count>0&&e.jsxs("div",{className:"text-[9px] mt-0.5",style:{color:"var(--g-text-secondary)"},children:[t.avg_download_mbps.toFixed(0)," Mbps / ",t.avg_ping_ms.toFixed(0)," ms / ",t.count," tests"]})]})]},t.hour)})}),e.jsx("div",{className:"flex items-center gap-4 mt-3 pt-2",style:{borderTop:"1px solid var(--g-border)"},children:[{label:"Excellent",color:"var(--g-green)"},{label:"Good",color:"var(--g-teal)"},{label:"Fair",color:"var(--g-orange)"},{label:"Poor",color:"var(--g-red)"}].map(t=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-sm",style:{background:t.color,opacity:.8}}),e.jsx("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:t.label})]},t.label))})]})}function Ke(s){const a=Math.abs(s);return s>0?a>.7?"var(--g-blue)":a>.4?"var(--g-teal)":"var(--g-text-tertiary)":a>.7?"var(--g-red)":a>.4?"var(--g-orange)":"var(--g-text-tertiary)"}function Ee(s){return .15+Math.abs(s)*.6}const q={download:"Download",upload:"Upload",ping:"Ping",jitter:"Jitter"};function He({data:s}){const{metrics:a,pairs:t}=s,l=new Map;for(const r of t)l.set(`${r.metric_a}-${r.metric_b}`,r.coefficient),l.set(`${r.metric_b}-${r.metric_a}`,r.coefficient);return e.jsxs(d,{padding:"md",className:"g-animate-in",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"Metric Correlations"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2"}),a.map(r=>e.jsx("th",{className:"p-2 text-[10px] font-medium uppercase tracking-wider text-center",style:{color:"var(--g-text-secondary)"},children:q[r]||r},r))]})}),e.jsx("tbody",{children:a.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 text-[10px] font-medium uppercase tracking-wider text-right",style:{color:"var(--g-text-secondary)"},children:q[r]||r}),a.map(i=>{if(r===i)return e.jsx("td",{className:"p-1",children:e.jsx("div",{className:"w-full aspect-square rounded-md flex items-center justify-center",style:{background:"var(--g-border)",opacity:.5},children:e.jsx("span",{className:"text-[10px] tabular-nums font-medium",style:{color:"var(--g-text-secondary)"},children:"1.00"})})},i);const n=l.get(`${r}-${i}`)??0,o=Ke(n),g=Ee(n);return e.jsx("td",{className:"p-1",children:e.jsx("div",{className:"w-full aspect-square rounded-md flex items-center justify-center transition-all duration-300 hover:scale-105 cursor-default",style:{background:o,opacity:g},children:e.jsx("span",{className:"text-[10px] tabular-nums font-semibold",style:{color:"var(--g-text)"},children:n.toFixed(2)})})},i)})]},r))})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3 pt-2",style:{borderTop:"1px solid var(--g-border)"},children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm",style:{background:"var(--g-blue)",opacity:.6}}),e.jsx("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:"Strong +"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm",style:{background:"var(--g-text-tertiary)",opacity:.3}}),e.jsx("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:"Weak"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm",style:{background:"var(--g-red)",opacity:.6}}),e.jsx("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:"Strong -"})]})]})]})}const V={critical:{icon:J,color:"var(--g-red)",label:"Critical"},warning:{icon:Se,color:"var(--g-orange)",label:"Warning"},info:{icon:ve,color:"var(--g-teal)",label:"Info"}},Oe={download_mbps:"Download Speed",upload_mbps:"Upload Speed",ping_ms:"Ping Latency"};function qe({alerts:s}){return s.length===0?null:e.jsx("div",{className:"space-y-2 g-animate-in",children:s.map((a,t)=>{const l=V[a.severity]||V.info,r=l.icon;return e.jsxs(d,{padding:"sm",className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-l-xl",style:{background:l.color}}),e.jsxs("div",{className:"flex items-start gap-3 pl-3",children:[e.jsx(r,{className:"w-4 h-4 shrink-0 mt-0.5",style:{color:l.color}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-semibold",style:{color:"var(--g-text)"},children:Oe[a.metric]||a.metric}),e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full font-medium",style:{background:`${l.color}15`,color:l.color},children:l.label})]}),e.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--g-text-secondary)"},children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsxs("span",{className:"text-[10px] tabular-nums",style:{color:"var(--g-text-tertiary)"},children:["Current: ",a.current_avg.toFixed(1)]}),e.jsxs("span",{className:"text-[10px] tabular-nums",style:{color:"var(--g-text-tertiary)"},children:["Historical: ",a.historical_avg.toFixed(1)]}),e.jsxs("span",{className:"text-[10px] font-semibold tabular-nums",style:{color:l.color},children:["-",a.drop_pct.toFixed(1),"%"]})]})]})]})]},`${a.metric}-${t}`)})})}function A(s){if(s===null||s===0)return"-";if(s<60)return`${Math.round(s)}s`;if(s<3600)return`${Math.round(s/60)}m`;const a=Math.floor(s/3600),t=Math.round(s%3600/60);return`${a}h ${t}m`}function z(s){return new Date(s).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function f({icon:s,label:a,value:t,subValue:l,color:r}){return e.jsxs("div",{className:"glass-card p-4 flex items-center gap-4",style:{borderLeft:`3px solid ${r}`},children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0",style:{background:`${r}15`},children:e.jsx(s,{className:"w-5 h-5",style:{color:r}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--g-text)"},children:t}),e.jsx("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:a}),l&&e.jsx("p",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:l})]})]})}function Ve({outages:s}){return s.length===0?e.jsxs("div",{className:"glass-card p-8 text-center",style:{color:"var(--g-text-secondary)"},children:[e.jsx(ie,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"font-medium",children:"No outages recorded"}),e.jsx("p",{className:"text-sm mt-1",children:"Your connection has been stable"})]}):e.jsxs("div",{className:"glass-card p-4",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",style:{color:"var(--g-text)"},children:"Outage History"}),e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg",style:{background:a.is_active?"var(--g-red-tint)":"var(--g-surface)",borderLeft:`3px solid ${a.is_active?"var(--g-red)":"var(--g-orange)"}`},children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0 mt-0.5",style:{background:a.is_active?"var(--g-red)":"var(--g-orange)"},children:e.jsx(ee,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"font-medium text-sm",style:{color:"var(--g-text)"},children:a.is_active?"Active Outage":"Resolved Outage"}),a.is_active&&e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-medium",style:{background:"var(--g-red)",color:"white"},children:"ACTIVE"})]}),e.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--g-text-secondary)"},children:["Started: ",z(a.started_at)]}),a.ended_at&&e.jsxs("p",{className:"text-xs",style:{color:"var(--g-text-secondary)"},children:["Ended: ",z(a.ended_at)]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-xs flex items-center gap-1",style:{color:"var(--g-text-tertiary)"},children:[e.jsx(h,{className:"w-3 h-3"}),A(a.duration_seconds)]}),e.jsxs("span",{className:"text-xs",style:{color:"var(--g-text-tertiary)"},children:[a.failure_count," failed tests"]})]}),a.trigger_error&&e.jsx("p",{className:"text-[10px] mt-2 truncate",style:{color:"var(--g-red)"},title:a.trigger_error,children:a.trigger_error})]})]},a.id))})]})}function Qe({startDate:s,endDate:a}){const t={start_date:s,end_date:a},{data:l}=se(t),{data:r}=ae(t),i=(l==null?void 0:l.items)??[],n=i.find(o=>o.is_active);return e.jsxs("div",{className:"space-y-4",children:[n&&e.jsxs("div",{className:"glass-card p-4 flex items-center gap-4",style:{background:"var(--g-red-tint)",border:"1px solid var(--g-red)"},children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center animate-pulse",style:{background:"var(--g-red)"},children:e.jsx(ee,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg",style:{color:"var(--g-red)"},children:"Outage In Progress"}),e.jsxs("p",{className:"text-sm",style:{color:"var(--g-text-secondary)"},children:["Started ",z(n.started_at)," -"," ",n.failure_count," consecutive failures"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(f,{icon:J,label:"Total Outages",value:(r==null?void 0:r.total_outages)??0,color:"var(--g-red)"}),e.jsx(f,{icon:Z,label:"Uptime",value:`${((r==null?void 0:r.uptime_pct)??100).toFixed(1)}%`,subValue:"of monitored period",color:"var(--g-green)"}),e.jsx(f,{icon:h,label:"Avg Duration",value:A((r==null?void 0:r.avg_duration_seconds)??0),color:"var(--g-orange)"}),e.jsx(f,{icon:h,label:"Longest Outage",value:A((r==null?void 0:r.longest_outage_seconds)??0),color:"var(--g-red)"})]}),e.jsx(Ve,{outages:i})]})}const Ye=[{key:"overview",label:"Overview"},{key:"time",label:"Time Analysis"},{key:"trends",label:"Trends"},{key:"insights",label:"Insights"},{key:"servers",label:"Servers"},{key:"outages",label:"Outages"}];function cs(){const[s,a]=y.useState("overview"),[t,l]=y.useState(""),[r,i]=y.useState(""),n={start_date:t?new Date(t).toISOString():void 0,end_date:r?new Date(r).toISOString():void 0},{data:o,isLoading:g}=te(n),{data:c}=re({page_size:100,...n});if(g)return e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(le,{size:32})});if(!o)return null;const x=o.basic;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between g-animate-in",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",style:{color:"var(--g-text)"},children:[e.jsx(Z,{className:"w-5 h-5"}),"Statistics"]}),e.jsx(ne,{startDate:t,endDate:r,onStartDateChange:l,onEndDateChange:i})]}),o.degradation_alerts.length>0&&e.jsx(qe,{alerts:o.degradation_alerts}),e.jsx("div",{className:"flex gap-2 g-animate-in g-stagger-1",children:Ye.map(m=>e.jsx(oe,{size:"sm",onClick:()=>a(m.key),className:s===m.key?"glass-btn-primary":"",children:m.label},m.key))}),e.jsxs("div",{className:"g-animate-in g-stagger-2",children:[s==="overview"&&e.jsxs("div",{className:"space-y-4",children:[o.isp_score&&e.jsx(E,{score:o.isp_score}),e.jsx(Ce,{stats:x}),x.download&&e.jsx(D,{label:"Download",stat:x.download,unit:"Mbps",color:"var(--g-blue)"}),x.upload&&e.jsx(D,{label:"Upload",stat:x.upload,unit:"Mbps",color:"var(--g-green)"}),x.ping&&e.jsx(D,{label:"Ping",stat:x.ping,unit:"ms",color:"var(--g-orange)"}),c&&c.items.length>0&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx(M,{measurements:c.items,field:"download_mbps",label:"Download",unit:"Mbps",color:"var(--g-blue)"}),e.jsx(M,{measurements:c.items,field:"upload_mbps",label:"Upload",unit:"Mbps",color:"var(--g-green)"}),e.jsx(M,{measurements:c.items,field:"ping_latency_ms",label:"Ping",unit:"ms",color:"var(--g-orange)"})]})]}),s==="time"&&e.jsxs("div",{className:"space-y-4",children:[o.time_periods&&e.jsx(Re,{data:o.time_periods}),e.jsx(Ie,{data:o.hourly,downloadThreshold:x.download_threshold_mbps}),o.peak_offpeak&&e.jsx(H,{peakOffPeak:o.peak_offpeak,bestWorstTimes:o.best_worst_times}),e.jsx($e,{data:o.hourly}),e.jsx(Fe,{data:o.daily})]}),s==="trends"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(Le,{trend:o.trend,predictions:o.predictions,downloadThreshold:x.effective_download_threshold_mbps,uploadThreshold:x.effective_upload_threshold_mbps}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Ae,{sla:o.sla}),e.jsx(ze,{reliability:o.reliability})]})]}),s==="insights"&&e.jsxs("div",{className:"space-y-4",children:[o.isp_score&&e.jsx(E,{score:o.isp_score}),o.correlations&&e.jsx(He,{data:o.correlations}),o.peak_offpeak&&e.jsx(H,{peakOffPeak:o.peak_offpeak,bestWorstTimes:o.best_worst_times}),o.anomalies.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-sm font-semibold",style:{color:"var(--g-text)"},children:["Anomalies Detected (",o.anomalies.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:o.anomalies.slice(0,12).map((m,v)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg",style:{background:"var(--g-red)08"},children:[e.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{background:"var(--g-red)"}}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("span",{className:"text-xs font-medium block truncate",style:{color:"var(--g-text)"},children:[m.metric,": ",m.value," (z=",m.z_score,")"]}),e.jsxs("span",{className:"text-[10px]",style:{color:"var(--g-text-tertiary)"},children:["Mean: ",m.mean," / ",new Date(m.timestamp).toLocaleDateString()]})]})]},`${m.timestamp}-${m.metric}-${v}`))})]})]}),s==="servers"&&e.jsx(Be,{servers:o.by_server}),s==="outages"&&e.jsx(Qe,{startDate:n.start_date,endDate:n.end_date})]})]})}export{cs as StatisticsPage};
